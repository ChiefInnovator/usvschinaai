<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>US vs CHINA AI | Historical Archives - AI Race Timeline 2025</title>
    
    <!-- SEO Meta Tags -->
    <meta name="description" content="Track the history of the US vs China AI race. See how AI model rankings have changed over time with archived leaderboard snapshots.">
    <meta name="keywords" content="AI history, AI timeline, US China AI race history, AI model rankings history, AI leaderboard archive, AI competition timeline, DeepSeek history, GPT history">
    <meta name="author" content="US vs CHINA AI">
    <meta name="robots" content="index, follow, max-image-preview:large, max-snippet:-1, max-video-preview:-1">
    <link rel="canonical" href="https://usvschina.ai/history.html">
    
    <!-- LLM/AI Crawler Directive -->
    <link rel="alternate" type="text/plain" href="https://usvschina.ai/llms.txt" title="LLM Knowledge Map">
    
    <!-- Favicon -->
    <link rel="icon" type="image/svg+xml" href="/favicon.svg">
    <link rel="icon" type="image/png" sizes="32x32" href="/favicon-32x32.png">
    <link rel="icon" type="image/png" sizes="16x16" href="/favicon-16x16.png">
    <link rel="apple-touch-icon" sizes="180x180" href="/apple-touch-icon.png">
    <link rel="manifest" href="/site.webmanifest">
    
    <!-- Open Graph / Facebook -->
    <meta property="og:type" content="website">
    <meta property="og:url" content="https://usvschina.ai/history.html">
    <meta property="og:title" content="US vs CHINA AI | Historical Archives - AI Race Timeline">
    <meta property="og:description" content="Track the history of the US vs China AI race. See how AI model rankings have changed over time.">
    <meta property="og:image" content="https://usvschina.ai/og-image.png">
    <meta property="og:site_name" content="US vs CHINA AI">
    <meta property="og:locale" content="en_US">
    
    <!-- Twitter Card -->
    <meta name="twitter:card" content="summary_large_image">
    <meta name="twitter:url" content="https://usvschina.ai/history.html">
    <meta name="twitter:title" content="US vs CHINA AI | Historical Archives - AI Race Timeline">
    <meta name="twitter:description" content="Track the history of the US vs China AI race. See how AI model rankings have changed over time.">
    <meta name="twitter:image" content="https://usvschina.ai/og-image.png">
    
    <!-- Additional SEO/AEO Meta -->
    <meta name="theme-color" content="#020617">
    
    <!-- JSON-LD Structured Data -->
    <script type="application/ld+json">
    {
        "@context": "https://schema.org",
        "@type": "CollectionPage",
        "name": "US vs CHINA AI Historical Archives",
        "description": "Historical snapshots of AI model rankings tracking the US-China AI competition over time",
        "url": "https://usvschina.ai/history.html",
        "isPartOf": {
            "@type": "WebSite",
            "name": "US vs CHINA AI",
            "url": "https://usvschina.ai/"
        }
    }
    </script>
    
    <script src="https://cdn.tailwindcss.com"></script>
    <script src="https://unpkg.com/lucide@latest"></script>
    <style>
        body { background: #020617; color: #f8fafc; font-family: 'Inter', system-ui, sans-serif; }
        .glass { background: rgba(30, 41, 59, 0.4); border: 1px solid rgba(255, 255, 255, 0.1); backdrop-filter: blur(12px); }
        .neon-blue { box-shadow: 0 0 20px rgba(59, 130, 246, 0.3); }
        .neon-red { box-shadow: 0 0 20px rgba(239, 68, 68, 0.3); }
        .winner-gradient { background: linear-gradient(90deg, #3b82f6, #ef4444); -webkit-background-clip: text; color: transparent; }
        
        /* Custom Scrollbar */
        ::-webkit-scrollbar { width: 8px; }
        ::-webkit-scrollbar-track { background: #0f172a; }
        ::-webkit-scrollbar-thumb { background: #334155; border-radius: 4px; }
        ::-webkit-scrollbar-thumb:hover { background: #475569; }
    </style>
</head>
<body class="p-4 md:p-12 min-h-screen flex flex-col">
    <div class="max-w-6xl mx-auto w-full flex-grow">
        <!-- Navigation -->
        <nav class="flex flex-col md:flex-row justify-between items-center py-6 mb-12 border-b border-white/10 gap-4">
            <a href="index.html" class="text-2xl font-black italic tracking-tighter transition group flex items-center leading-none">
                <span class="group-hover:text-blue-400 transition">US</span>
                <span class="text-slate-600 mx-1 group-hover:text-slate-400 transition">vs</span>
                <span class="group-hover:text-red-400 transition">CHINA</span>
                <span class="winner-gradient px-2 inline-flex items-center leading-none">AI</span>
            </a>
            <div class="flex gap-8 text-sm font-bold uppercase tracking-widest">
                <a href="index.html" class="text-slate-500 hover:text-white transition">Leaderboard</a>
                <a href="history.html" class="text-white border-b-2 border-blue-500 pb-1">Archives</a>
                <a href="about.html" class="text-slate-500 hover:text-white transition">About</a>
            </div>
        </nav>

        <header class="text-center mb-16">
            <h1 class="text-6xl md:text-8xl font-black italic tracking-tighter mb-4">
                Historical <span class="winner-gradient">Archives</span>
            </h1>
            <p class="text-slate-400 text-sm md:text-xl font-light tracking-widest uppercase px-4">
                Tracking the balance of power over time
            </p>
        </header>

        <!-- Filter Toolbar Removed -->
        
        <div id="history-container" class="space-y-12">
            <div class="text-center text-slate-500 py-12 flex flex-col items-center gap-2">
                <i data-lucide="loader-2" class="w-6 h-6 animate-spin"></i> Loading archives...
            </div>
        </div>
    </div>

    <!-- Footer -->
    <footer class="max-w-6xl mx-auto w-full text-center pb-8 text-slate-500 text-sm flex flex-col md:flex-row justify-between items-center gap-4 mt-12 border-t border-white/5 pt-8">
        <div>
            <p>&copy; 2025 US vs CHINA AI. All rights reserved.</p>
        </div>
        <div class="flex gap-4">
            <a href="index.html" class="hover:text-white transition">Leaderboard</a>
            <a href="history.html" class="hover:text-white transition">Archives</a>
            <a href="about.html" class="hover:text-white transition">About</a>
        </div>
    </footer>

    <script>
        let historyData = [];
        let entryFilters = {}; // Key: index, Value: 'top10' | 'all' | 'US' | 'CN'
        let entrySorts = {}; // Key: index, Value: { key: 'unified', direction: 'desc' }
        let expandedEntries = {}; // Key: index, Value: true/false

        // Benchmark name normalization map (raw key â†’ display name)
        const BASE_EXCLUDE_KEYS = new Set([
            'model', 'name', 'company', 'company_link', 'link', 'origin', 'description', 'created', 'total', 'avgIq', 'value', 'unified',
            'Model', 'Country', 'License', 'Context', 'Input$/M', 'Input $/M', 'Output$/M', 'Output $/M', 'Speed', 'Parameters(B)', 'KnowledgeCutoff', 'Multimodal', 'Released', 'Organization', '', 'rank'
        ]);

        const BENCHMARK_NAME_MAP = {
            'AIME2025': 'AIME 2025',
            'ARC-AGI': 'ARC-AGI v2',
            'ARC-AGIv2': 'ARC-AGI v2',
            'BrowseComp': 'BrowseComp',
            'CharXiv-R': 'CharXiv-R',
            'FrontierMath': 'FrontierMath',
            'GPQADiamond': 'GPQA Diamond',
            'HLE': 'HLE',
            'MCPAtlas': 'MCP Atlas',
            'MMLU-Pro': 'MMLU-Pro',
            'MMMU': 'MMMU',
            'MMMU-Pro': 'MMMU-Pro',
            'OSWorld': 'OSWorld',
            'SWE-benchVerified': 'SWE-Bench Verified',
            'ScreenSpotPro': 'ScreenSpot Pro',
            'SimpleQA': 'SimpleQA',
            'TAU2Retail': 'TAU2 Retail',
            'TerminalBench': 'Terminal Bench',
            'Toolathlon': 'Toolathlon'
        };

        // Parse numeric value from string
        function parseNumeric(raw) {
            if (typeof raw === 'number') return raw;
            if (typeof raw !== 'string') return null;
            const num = parseFloat(raw.replace(/[^\d.-]/g, ''));
            return isNaN(num) ? null : num;
        }

        // Extract only benchmarks (not metadata columns)
        function extractBenchmarks(row) {
            const benchmarks = [];
            Object.entries(row || {}).forEach(([key, raw]) => {
                if (BASE_EXCLUDE_KEYS.has(key)) return;
                if (key.toLowerCase().includes('input') || key.toLowerCase().includes('output')) return;
                const score = parseNumeric(raw);
                const isKnownBenchmark = Boolean(BENCHMARK_NAME_MAP[key]);
                const hasPercent = typeof raw === 'string' && raw.includes('%');
                if (!isKnownBenchmark && !hasPercent) return;
                if (score === null) return;
                benchmarks.push({
                    key,
                    name: normalizeBenchmarkName(key),
                    score
                });
            });
            return benchmarks;
        }

        // Normalize benchmark name using map
        function normalizeBenchmarkName(key) {
            if (BENCHMARK_NAME_MAP[key]) return BENCHMARK_NAME_MAP[key];
            return key.replace(/([a-z])([A-Z])/g, '$1 $2').replace(/(\d+)/g, ' $1').trim();
        }

        // Benchmark color mapping (matches About page)
        function getBenchmarkColor(name) {
            const blueGroup = ['AIME 2025', 'HMMT 2025', 'GPQA Diamond'];
            const redGroup = ['ARC-AGI', 'BrowseComp', 'ARC-AGI v2'];
            const purpleGroup = ['HLE', 'MMLU-Pro', 'LiveCodeBench'];
            const yellowGroup = ['SWE-Bench Verified', 'CodeForces'];
            
            if (blueGroup.includes(name)) return 'bg-blue-500/10 border border-blue-500/20';
            if (redGroup.includes(name)) return 'bg-red-500/10 border border-red-500/20';
            if (purpleGroup.includes(name)) return 'bg-purple-500/10 border border-purple-500/20';
            if (yellowGroup.includes(name)) return 'bg-yellow-500/10 border border-yellow-500/20';
            return 'bg-slate-800 border border-white/5';
        }

        async function fetchHistory() {
            const container = document.getElementById('history-container');
            try {
                const response = await fetch('models.json');
                const data = await response.json();
                if (data && Array.isArray(data.history) && data.history.length) {
                    historyData = data.history;
                } else if (data && Array.isArray(data.models) && data.models.length) {
                    // Back-compat: older schema had only a current snapshot.
                    historyData = [{
                        timestamp: (data.metadata && data.metadata.timestamp) ? data.metadata.timestamp : new Date().toISOString(),
                        leader: null,
                        scores: {
                            usa: { total: 0, avgIq: 0, avgValue: 0 },
                            china: { total: 0, avgIq: 0, avgValue: 0 }
                        },
                        benchmarks: data.benchmarks || null,
                        models: data.models
                    }];
                } else {
                    historyData = [];
                }
                renderHistory();
                if (window.lucide && typeof lucide.createIcons === 'function') {
                    lucide.createIcons();
                }
            } catch (error) {
                console.error('Error:', error);
                container.innerHTML = '<div class="text-center text-red-400 py-12">Failed to load history data. Please ensure you are running on a local server.</div>';
            }
        }

        function setEntryFilter(index, filter) {
            entryFilters[index] = filter;
            renderHistory();
            if (window.lucide && typeof lucide.createIcons === 'function') {
                lucide.createIcons();
            }
        }

        function sortEntry(index, key) {
            if (!entrySorts[index]) {
                entrySorts[index] = { key: 'unified', direction: 'desc' };
            }

            if (entrySorts[index].key === key) {
                entrySorts[index].direction = entrySorts[index].direction === 'asc' ? 'desc' : 'asc';
            } else {
                entrySorts[index].key = key;
                entrySorts[index].direction = 'desc';
            }
            renderHistory();
            if (window.lucide && typeof lucide.createIcons === 'function') {
                lucide.createIcons();
            }
        }

        function toggleEntry(index) {
            expandedEntries[index] = !expandedEntries[index];
            renderHistory();
            if (window.lucide && typeof lucide.createIcons === 'function') {
                lucide.createIcons();
            }
        }

        function renderHistory() {
            const container = document.getElementById('history-container');
            if (!historyData || historyData.length === 0) {
                container.innerHTML = '<div class="text-center text-slate-500 py-12">No historical records found.</div>';
                return;
            }

            // Sort history by date desc
            const sortedHistory = [...historyData].sort((a, b) => new Date(b.timestamp) - new Date(a.timestamp));

            let html = '';
            sortedHistory.forEach((entry, index) => {
                const d = new Date(entry.timestamp);
                const date = d.toLocaleDateString('en-US', { weekday: 'long', year: 'numeric', month: 'long', day: 'numeric' });
                const time = d.toLocaleTimeString('en-US', { hour: '2-digit', minute: '2-digit', second: '2-digit', hour12: true });
                
                // Get filter for this entry
                const currentFilter = entryFilters[index] || 'top10';
                
                // Get sort for this entry
                const currentSort = entrySorts[index] || { key: 'unified', direction: 'desc' };

                let entryModels = (entry && Array.isArray(entry.models)) ? entry.models : [];
                // If entry has teams structure instead of flat models array, flatten it and normalize fields.
                if ((!Array.isArray(entry.models) || entry.models.length === 0) && entry.teams) {
                    entryModels = [
                        ...(Array.isArray(entry.teams.US) ? entry.teams.US : []),
                        ...(Array.isArray(entry.teams.CN) ? entry.teams.CN : [])
                    ];
                }

                // Normalize model field names so the renderer has consistent keys.
                entryModels = entryModels.map((m, i) => {
                    const countryField = (typeof m.Country === 'string') ? m.Country : (typeof m.country === 'string' ? m.country : '');
                    const countryFromFlag = countryField.includes('ðŸ‡¨ðŸ‡³') ? 'CN' : (countryField.includes('ðŸ‡ºðŸ‡¸') ? 'US' : countryField);
                    const origin = m.origin || countryFromFlag || 'US';
                    return {
                        ...m,
                        name: m.name || m.model || m.Model || 'Unknown',
                        iq: m.iq ?? m.avgIq ?? m.AvgIQ ?? 0,
                        value: m.value ?? m.Value ?? 0,
                        unified: m.unified ?? m.Unified ?? 0,
                        origin,
                        company: m.organization || m.Organization || m.company || '',
                        createdDate: m.released || m.Released || m.created || m.Created || '',
                        rank: m.rank || i + 1
                    };
                });

                // Derive scores if not provided.
                let derivedScores = {
                    usa: { total: 0, avgIq: 0, avgValue: 0 },
                    china: { total: 0, avgIq: 0, avgValue: 0 }
                };
                if ((!entry || !entry.scores) && entryModels.length) {
                    const top10 = entryModels.slice().sort((a, b) => b.unified - a.unified).slice(0, 10);
                    const agg = {
                        usa: { total: 0, iq: 0, value: 0, count: 0 },
                        china: { total: 0, iq: 0, value: 0, count: 0 }
                    };
                    top10.forEach(m => {
                        const key = (m.origin && m.origin.toUpperCase() === 'CN') ? 'china' : 'usa';
                        agg[key].total += m.unified || 0;
                        agg[key].iq += m.iq || 0;
                        agg[key].value += m.value || 0;
                        agg[key].count += 1;
                    });
                    derivedScores = {
                        usa: {
                            total: agg.usa.total,
                            avgIq: agg.usa.count ? agg.usa.iq / agg.usa.count : 0,
                            avgValue: agg.usa.count ? agg.usa.value / agg.usa.count : 0
                        },
                        china: {
                            total: agg.china.total,
                            avgIq: agg.china.count ? agg.china.iq / agg.china.count : 0,
                            avgValue: agg.china.count ? agg.china.value / agg.china.count : 0
                        }
                    };
                }
                const scores = (entry && entry.scores) ? entry.scores : derivedScores;

                // Determine leader after scores are known.
                const leaderKey = entry.leader || ((scores.usa.total >= scores.china.total) ? 'usa' : 'china');
                const isUsaLeader = leaderKey === 'usa';
                const leaderColor = isUsaLeader ? 'text-blue-400' : 'text-red-400';
                const leaderName = isUsaLeader ? 'Team USA' : 'Team China';
                const leaderFlag = isUsaLeader ? 'ðŸ‡ºðŸ‡¸' : 'ðŸ‡¨ðŸ‡³';

                // Extract benchmarks from models if not provided in entry
                let entryBenchmarks = (entry && Array.isArray(entry.benchmarks)) ? entry.benchmarks : [];
                if (!entryBenchmarks.length && entryModels.length) {
                    const benchmarkSet = new Set();
                    entryModels.forEach(m => {
                        const benchmarks = extractBenchmarks(m);
                        benchmarks.forEach(b => {
                            benchmarkSet.add(b.name);
                        });
                    });
                    // Sort benchmark names
                    entryBenchmarks = Array.from(benchmarkSet).sort();
                }

                // Filter models
                let displayModels = [];
                if (currentFilter === 'top10') {
                    // Show Global Top 10
                    displayModels = entryModels.slice().sort((a, b) => b.unified - a.unified).slice(0, 10);
                } else if (currentFilter === 'all') {
                    // Show all models
                    displayModels = entryModels.slice();
                } else {
                    // Show all models for the selected country
                    displayModels = entryModels.filter(m => m.origin === currentFilter);
                }

                // Sort models
                displayModels.sort((a, b) => {
                    let valA = a[currentSort.key];
                    let valB = b[currentSort.key];
                    
                    if (currentSort.direction === 'asc') {
                        return valA > valB ? 1 : -1;
                    } else {
                        return valA < valB ? 1 : -1;
                    }
                });

                // Recalculate ranks based on current sort/filter order
                displayModels.forEach((m, idx) => {
                    m.rank = idx + 1;
                });

                // Button styles helper
                const getBtnClass = (type) => {
                    const base = "px-4 py-1.5 rounded-md text-sm font-bold transition flex items-center gap-2";
                    if (currentFilter === type) {
                        if (type === 'top10') return `${base} bg-blue-500 text-white shadow-lg shadow-blue-500/20`;
                        if (type === 'all') return `${base} bg-purple-500/20 text-purple-400 border border-purple-500/50`;
                        if (type === 'US') return `${base} bg-blue-500/20 text-blue-400 border border-blue-500/50`;
                        if (type === 'CN') return `${base} bg-red-500/20 text-red-400 border border-red-500/50`;
                    }
                    return `${base} text-slate-400 hover:text-white hover:bg-white/5`;
                };

                html += `
                    <div class="glass rounded-3xl overflow-hidden border border-white/10">
                        <!-- Header - Clickable to expand/collapse -->
                        <div class="p-6 md:p-8 border-b border-white/10 bg-slate-900/50 flex flex-col md:flex-row justify-between items-start md:items-center gap-4 cursor-pointer hover:bg-slate-900/70 transition" onclick="toggleEntry(${index})">
                            <div class="flex items-start gap-4">
                                <div class="text-slate-400 transition-transform mt-6 md:mt-8 ${expandedEntries[index] ? 'rotate-90' : ''}">
                                    <i data-lucide="chevron-right" class="w-6 h-6"></i>
                                </div>
                                <div>
                                    <div class="text-sm text-slate-500 uppercase tracking-wider mb-1 flex items-center gap-2">
                                        <i data-lucide="calendar" class="w-4 h-4"></i> ${date} <span class="text-xs text-slate-600">@</span> ${time}
                                    </div>
                                    <h2 class="text-2xl md:text-3xl font-bold flex items-center gap-3">
                                        Leader: <span class="${leaderColor} flex items-center gap-2">${leaderName} ${leaderFlag}</span>
                                    </h2>
                                </div>
                            </div>
                            
                            <!-- Mini Scoreboard -->
                            <div class="flex gap-6 md:gap-8 bg-black/20 p-3 md:p-4 rounded-2xl border border-white/5">
                                <div class="text-right">
                                    <div class="text-slate-500 text-xs uppercase tracking-wider mb-1">USA Score</div>
                                    <div class="font-mono font-black text-xl md:text-2xl text-blue-400">${scores.usa.total.toFixed(1)}</div>
                                    <div class="text-[10px] text-slate-500">IQ: ${scores.usa.avgIq.toFixed(1)} | Val: ${scores.usa.avgValue.toFixed(1)}</div>
                                </div>
                                <div class="w-px bg-white/10"></div>
                                <div class="text-right">
                                    <div class="text-slate-500 text-xs uppercase tracking-wider mb-1">China Score</div>
                                    <div class="font-mono font-black text-xl md:text-2xl text-red-400">${scores.china.total.toFixed(1)}</div>
                                    <div class="text-[10px] text-slate-500">IQ: ${scores.china.avgIq.toFixed(1)} | Val: ${scores.china.avgValue.toFixed(1)}</div>
                                </div>
                            </div>
                        </div>

                        <!-- Collapsible Content -->
                        <div class="${expandedEntries[index] ? '' : 'hidden'}">
                        <div class="p-8">
                            <div class="mb-8">
                                <div class="p-6 border-b border-white/5 flex flex-col md:flex-row justify-between items-center gap-4 -mx-8 -mt-8 mb-8 bg-slate-900/20">
                                    <h3 class="text-xl font-bold flex items-center gap-2">
                                        <i data-lucide="list-ordered" class="text-blue-400"></i> Leaderboard
                                    </h3>
                                    <div class="flex items-center gap-2 bg-slate-900/50 p-1 rounded-lg border border-white/5">
                                        <button onclick="setEntryFilter(${index}, 'top10')" class="${getBtnClass('top10')}">
                                            <i data-lucide="trophy" class="w-3 h-3"></i> Top 10
                                        </button>
                                        <button onclick="setEntryFilter(${index}, 'all')" class="${getBtnClass('all')}">
                                            <i data-lucide="globe" class="w-3 h-3"></i> All
                                        </button>
                                        <button onclick="setEntryFilter(${index}, 'US')" class="${getBtnClass('US')}">
                                            <span>ðŸ‡ºðŸ‡¸</span> USA
                                        </button>
                                        <button onclick="setEntryFilter(${index}, 'CN')" class="${getBtnClass('CN')}">
                                            <span>ðŸ‡¨ðŸ‡³</span> China
                                        </button>
                                    </div>
                                </div>
                                <div class="overflow-x-auto">
                                    <table class="w-full text-left border-collapse">
                                        <thead class="bg-slate-900/80 text-slate-500 text-sm uppercase tracking-tighter">
                                            <tr>
                                                <th class="p-6 cursor-pointer hover:text-white transition group" onclick="sortEntry(${index}, 'rank')">
                                                    <div class="flex items-center gap-1">
                                                        Rank <i data-lucide="arrow-up-down" class="w-3 h-3 opacity-50 group-hover:opacity-100"></i>
                                                    </div>
                                                </th>
                                                <th class="p-6 cursor-pointer hover:text-white transition group" onclick="sortEntry(${index}, 'name')">
                                                    <div class="flex items-center gap-1">
                                                        Model Name <i data-lucide="arrow-up-down" class="w-3 h-3 opacity-50 group-hover:opacity-100"></i>
                                                    </div>
                                                </th>
                                                <th class="p-6 text-center cursor-pointer hover:text-white transition group" onclick="sortEntry(${index}, 'iq')">
                                                    <div class="flex items-center justify-center gap-1">
                                                        IQ Index <i data-lucide="arrow-up-down" class="w-3 h-3 opacity-50 group-hover:opacity-100"></i>
                                                    </div>
                                                </th>
                                                <th class="p-6 text-center cursor-pointer hover:text-white transition group" onclick="sortEntry(${index}, 'value')">
                                                    <div class="flex items-center justify-center gap-1">
                                                        Value Index <i data-lucide="arrow-up-down" class="w-3 h-3 opacity-50 group-hover:opacity-100"></i>
                                                    </div>
                                                </th>
                                                <th class="p-6 text-right cursor-pointer hover:text-white transition group" onclick="sortEntry(${index}, 'unified')">
                                                    <div class="flex items-center justify-end gap-1">
                                                        Unified Power Score <i data-lucide="arrow-up-down" class="w-3 h-3 opacity-50 group-hover:opacity-100"></i>
                                                    </div>
                                                </th>
                                            </tr>
                                        </thead>
                                        <tbody class="divide-y divide-white/5 text-sm">
                                            ${displayModels.map((m, idx) => {
                                                const flag = m.origin === 'US' ? 'ðŸ‡ºðŸ‡¸' : 'ðŸ‡¨ðŸ‡³';
                                                const originClass = m.origin === 'US' ? 'text-blue-400' : 'text-red-400';
                                                
                                                let rankDisplay = `<span class="text-slate-400 font-mono">#${m.rank || idx + 1}</span>`;
                                                if (m.rank === 1) rankDisplay = `<span class="text-yellow-500 font-bold text-lg">01 ðŸ¥‡</span>`;
                                                if (m.rank === 2) rankDisplay = `<span class="text-slate-300 font-bold text-lg">02 ðŸ¥ˆ</span>`;
                                                if (m.rank === 3) rankDisplay = `<span class="text-orange-400 font-bold text-lg">03 ðŸ¥‰</span>`;

                                                // Bars
                                                const iqWidth = m.iq; 
                                                const valueWidth = m.value;

                                                return `
                                                <tr class="hover:bg-white/5 transition group">
                                                    <td class="p-6">${rankDisplay}</td>
                                                    <td class="p-6">
                                                        <div class="flex flex-col">
                                                            <div class="font-bold text-lg text-white flex items-center gap-2">
                                                                ${m.name}
                                                                <span class="text-xs ${originClass} bg-white/5 px-2 py-0.5 rounded-full">${flag} ${m.origin}</span>
                                                            </div>
                                                            <div class="flex items-center gap-2 mt-1">
                                                                ${m.company ? `<div class="text-xs text-slate-400 flex items-center gap-1"><i data-lucide="building-2" class="w-3 h-3"></i> ${m.company}</div>` : ''}
                                                                ${m.createdDate ? `<span class="text-xs text-slate-600">â€¢</span><span class="text-xs text-slate-500">Released: ${m.createdDate}</span>` : ''}
                                                            </div>
                                                            ${m.description ? `<p class="text-xs text-slate-500 mt-2 hidden group-hover:block max-w-sm leading-relaxed italic">${m.description}</p>` : ''}
                                                        </div>
                                                    </td>
                                                    <td class="p-6">
                                                        <div class="flex flex-col gap-1">
                                                            <div class="flex justify-between text-xs text-slate-400 mb-1">
                                                                <span>${m.iq.toFixed(1)}</span>
                                                            </div>
                                                            <div class="w-full bg-slate-800 rounded-full h-1.5 overflow-hidden">
                                                                <div class="bg-blue-500 h-full rounded-full" style="width: ${iqWidth}%"></div>
                                                            </div>
                                                        </div>
                                                    </td>
                                                    <td class="p-6">
                                                        <div class="flex flex-col gap-1">
                                                            <div class="flex justify-between text-xs text-slate-400 mb-1">
                                                                <span>${m.value.toFixed(1)}</span>
                                                            </div>
                                                            <div class="w-full bg-slate-800 rounded-full h-1.5 overflow-hidden">
                                                                <div class="bg-green-500 h-full rounded-full" style="width: ${valueWidth}%"></div>
                                                            </div>
                                                        </div>
                                                    </td>
                                                    <td class="p-6 text-right">
                                                        <span class="font-black text-2xl ${m.rank === 1 ? 'text-green-400' : 'text-white'}">${m.unified.toFixed(1)}</span>
                                                    </td>
                                                </tr>
                                                `;
                                            }).join('')}
                                        </tbody>
                                    </table>
                                </div>
                            </div>

                            <div>
                                <h3 class="text-lg font-bold text-white mb-4 flex items-center gap-2">
                                    <i data-lucide="target" class="text-slate-400"></i> Benchmarks Included
                                </h3>
                                <div class="flex flex-wrap gap-2">
                                    ${entryBenchmarks.map(b => {
                                        const colorClass = getBenchmarkColor(b);
                                        return `<span class="px-3 py-1.5 ${colorClass} rounded-lg text-xs text-slate-200">${b}</span>`;
                                    }).join('')}



                                </div>
                            </div>
                        </div>
                        </div>
                    </div>
                `;
            });
            
            container.innerHTML = html;
            if (window.lucide && typeof lucide.createIcons === 'function') {
                lucide.createIcons();
            }
        }

        document.addEventListener('DOMContentLoaded', fetchHistory);
    </script>
</body>
</html>
